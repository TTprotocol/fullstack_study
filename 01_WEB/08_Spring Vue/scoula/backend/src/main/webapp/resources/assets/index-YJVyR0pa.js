import{s as u,u as o,x as n}from"./index-CMXI6cWs.js";const s=u.create({timeout:1e3});s.interceptors.request.use(e=>{const{getToken:t}=o(),r=t();return r&&(e.headers.Authorization=`Bearer ${r}`,console.log(e.headers.Authorization)),e},e=>(console.log("요청 중 에러 발생"),Promise.reject(e)));s.interceptors.response.use(e=>e.status===200?e:e.status===404?Promise.reject("404: 페이지 없음 "+e.request):e,async e=>{var t;if(console.log("응답 중 에러 발생 : ",e),((t=e.response)==null?void 0:t.status)===401){const{logout:r}=o();return r(),n.push("/auth/login?error=login_required"),Promise.reject({error:"로그인이 필요한 서비스입니다."})}return Promise.reject(e)});export{s as i};
