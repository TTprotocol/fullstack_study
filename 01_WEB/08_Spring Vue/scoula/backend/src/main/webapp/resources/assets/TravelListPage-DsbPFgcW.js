import{a as h}from"./travelApi-BM9Gt1rA.js";import{i as _,l as w,b as c,o as d,j as g,d as t,k as n,e as p,t as m,q as y,a as x,c as k,r as C,m as V,F as I,p as T,h as $}from"./index-scASVxxl.js";import"./index-CEgiJ0Kx.js";const B={class:"card",style:{width:"100%"}},L=["src","alt"],N={class:"card-body"},R={class:"card-title"},j={class:"card-text"},F={__name:"TravelCard",props:{travel:{Type:Object,required:!0}},setup(a){const s=_();return(v,o)=>{const u=w("router-link");return d(),c("div",B,[g(u,{to:{name:"travel/detail",params:{no:a.travel.no},query:y(s).query}},{default:n(()=>[p(m(console.log("travel.images[0].url : ",a.travel.images[0].url))+" ",1),t("img",{class:"card-img-top",src:a.travel.images[0].url,alt:a.travel.title},null,8,L)]),_:1},8,["to"]),t("div",N,[t("h5",R,[g(u,{to:{name:"travel/detail",params:{no:a.travel.no},query:y(s).query}},{default:n(()=>[p(m(a.travel.title),1)]),_:1},8,["to"])]),t("p",j,m(a.travel.description.substring(0,250)),1)])])}}},P={class:""},D={class:"row"},E={class:"mt-5 flex-grow-1 text-center"},z={__name:"TravelListPage",setup(a){const s=_(),v=$(),o=x({}),u=k(()=>o.value.list),l=C({page:parseInt(s.query.page)||1,amount:parseInt(s.query.amount)||12}),b=async r=>{v.push({query:{page:r,amount:l.amount}})};V(s,async r=>{l.page=parseInt(s.query.page),l.amount=parseInt(s.query.amount),await f(l)});const f=async r=>{try{o.value=await h.getList(r),console.log("page.value : ",o.value)}catch{}};return f(l),(r,e)=>{const q=w("vue-awesome-paginate");return d(),c("div",null,[e[5]||(e[5]=t("h1",{class:"mb-3"},[t("i",{class:"fa-solid fa-person-walking-luggage"}),p(" 여행지 목록 ")],-1)),t("div",P,"총 "+m(o.value.totalCount)+"건",1),t("div",D,[(d(!0),c(I,null,T(u.value,i=>(d(),c("div",{class:"col-sm-12 col-md-6 col-lg-4 col-xl-3 mb-3",key:i.no},[g(F,{travel:i},null,8,["travel"])]))),128))]),t("div",E,[g(q,{"total-items":o.value.totalCount,"items-per-page":l.amount,"max-pages-shown":5,"showending-buttons":!0,modelValue:l.page,"onUpdate:modelValue":e[0]||(e[0]=i=>l.page=i),onClick:b},{"first-page-button":n(()=>e[1]||(e[1]=[t("i",{class:"fa-solid fa-backward-fast"},null,-1)])),"prev-button":n(()=>e[2]||(e[2]=[t("i",{class:"fa-solid fa-caret-left"},null,-1)])),"next-button":n(()=>e[3]||(e[3]=[t("i",{class:"fa-solid fa-caret-right"},null,-1)])),"last-page-button":n(()=>e[4]||(e[4]=[t("i",{class:"fa-solid fa-forward-fast"},null,-1)])),_:1},8,["total-items","items-per-page","modelValue"])])])}}};export{z as default};
