<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <div id="app">
            1보다 큰 수 : <input type="text" v-model.number="num" />

            <br />
            <!-- computed 사용시 캐싱된 값이 변수처럼 쓰인다 -->
            1부터 입력한 값까지의 합: <span>{{sum}}</span><br />
            1부터 입력한 값까지의 합: <span>{{sum}}</span><br />
            1부터 입력한 값까지의 합: <span>{{sum}}</span><br />
        </div>

        <script src="https://unpkg.com/vue"></script>
        <script>
            let vm = Vue.createApp({
                name: 'App',
                data() {
                    return { num: 0 };
                },
                // 계산된 값을 의미한다.
                // 같은 값을 호출하면 캐싱된 값을 가져오지만,
                // 안에 있는 vue 데이터가 변경되면 다시 계산된다.
                computed: {
                    sum() {
                        // this는 뷰 인스턴스를 가리킨다.
                        console.log('## num : ' + this.num);
                        let n = parseInt(this.num);
                        if (Number.isNaN(n)) return 0;
                        // n까지의 합 구하기
                        return (n * (n + 1)) / 2;
                    },
                },
            }).mount('#app');
        </script>
    </body>
</html>
